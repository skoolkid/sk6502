<!DOCTYPE html>
<html>
<head>
<title>Skool Daze: Routine at $2552</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../theme.css" />
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="253E.html">$253E</a>
</td>
<td class="up">Up: <a href="../maps/all.html#2552">Map</a></td>
<td class="next">
Next: <a href="2573.html">$2573</a>
</td>
</tr>
</table>
<div class="description">$2552: Make a teacher give lines to EINSTEIN or the boy he's telling tales on</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routines at <a href="0A58.html">$0A58</a> and <a href="0B3B.html">$0B3B</a>.
</div>
</div>
<table class="input">
<tr class="asm-input-header">
<th colspan="2">Input</th>
</tr>
<tr>
<td class="register">A</td>
<td class="register-desc">Character number of EINSTEIN or the boy that he's telling tales on</td>
</tr>
<tr>
<td class="register">Y</td>
<td class="register-desc">Lines reprimand identifier for the boy that EINSTEIN is telling tales on</td>
</tr>
</table>
</td>
</tr>
<tr>
<td class="address-2"><span id="2552"></span>$2552</td>
<td class="instruction">PHA</td>
<td class="comment-1" rowspan="2">Save the character number on the stack and at <a href="0072.html">$72</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="2553"></span>$2553</td>
<td class="instruction">STA $72</td>
</tr>
<tr>
<td class="address-1"><span id="2555"></span>$2555</td>
<td class="instruction">LDA $D41B</td>
<td class="comment-1" rowspan="1">Generate a random value in <span class="register">A</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="2558"></span>$2558</td>
<td class="instruction">CMP #$B5</td>
<td class="comment-1" rowspan="1">Is this random value $B5 or greater?</td>
</tr>
<tr>
<td class="address-1"><span id="255A"></span>$255A</td>
<td class="instruction">BCS <a href="2552.html#2566">$2566</a></td>
<td class="comment-1" rowspan="1">Branch if so.</td>
</tr>
<tr>
<td class="address-1"><span id="255C"></span>$255C</td>
<td class="instruction">PLA</td>
<td class="comment-1" rowspan="1">Retrieve the character number from the stack.</td>
</tr>
<tr>
<td class="address-1"><span id="255D"></span>$255D</td>
<td class="instruction">CMP #$11</td>
<td class="comment-1" rowspan="1">Is it $11 (EINSTEIN)?</td>
</tr>
<tr>
<td class="address-1"><span id="255F"></span>$255F</td>
<td class="instruction">BEQ <a href="2552.html#2572">$2572</a></td>
<td class="comment-1" rowspan="1">Return if so.</td>
</tr>
<tr>
<td class="address-1"><span id="2561"></span>$2561</td>
<td class="instruction">STY $D8</td>
<td class="comment-1" rowspan="1">Store the lines reprimand identifier at <a href="00D6.html#00D8">$D8</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="2563"></span>$2563</td>
<td class="instruction">JMP <a href="1DB7.html">$1DB7</a></td>
<td class="comment-1" rowspan="1">Make the teacher give lines to the boy that EINSTEIN is telling tales on.</td>
</tr>
<tr>
<td class="address-2"><span id="2566"></span>$2566</td>
<td class="instruction">PLA</td>
<td class="comment-1" rowspan="1">Retrieve the character number from the stack.</td>
</tr>
<tr>
<td class="address-1"><span id="2567"></span>$2567</td>
<td class="instruction">LDA #$09</td>
<td class="comment-1" rowspan="1">Lines reprimand <a href="4BA0.html">$09</a>: DON'T TELL TALES.</td>
</tr>
<tr>
<td class="address-1"><span id="2569"></span>$2569</td>
<td class="instruction">STA $D8</td>
<td class="comment-1" rowspan="1">Store this lines reprimand identifier at <a href="00D6.html#00D8">$D8</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="256B"></span>$256B</td>
<td class="instruction">LDA #$11</td>
<td class="comment-1" rowspan="1">Character number $11 is EINSTEIN.</td>
</tr>
<tr>
<td class="address-1"><span id="256D"></span>$256D</td>
<td class="instruction">STA $72</td>
<td class="comment-1" rowspan="1">Store this character number at <a href="0072.html">$72</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="256F"></span>$256F</td>
<td class="instruction">JMP <a href="1DB7.html">$1DB7</a></td>
<td class="comment-1" rowspan="1">Make the teacher give lines to EINSTEIN.</td>
</tr>
<tr>
<td class="address-2"><span id="2572"></span>$2572</td>
<td class="instruction">RTS</td>
<td class="comment-1" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="253E.html">$253E</a>
</td>
<td class="up">Up: <a href="../maps/all.html#2552">Map</a></td>
<td class="next">
Next: <a href="2573.html">$2573</a>
</td>
</tr>
</table>
<footer>
<div class="release">The complete Skool Daze C64 disassembly 20210325</div>
<div class="copyright">&#169; 1985 Microsphere Computer Services Ltd. &#169; 2021 Richard Dymond.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.4 and <a href="https://github.com/skoolkid/sk6502">sk6502</a>.</div>
</footer>
</body>
</html>