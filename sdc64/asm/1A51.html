<!DOCTYPE html>
<html>
<head>
<title>Skool Daze: Routine at $1A51</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../theme.css" />
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="1A50.html">$1A50</a>
</td>
<td class="up">Up: <a href="../maps/all.html#1A51">Map</a></td>
<td class="next">
Next: <a href="1B2E.html">$1B2E</a>
</td>
</tr>
</table>
<div class="description">$1A51: Check whether a character is beside a chair</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
This corresponds to <a href="https://skoolkid.github.io/skooldaze/asm/6BF0.html">$6BF0</a> in the ZX Spectrum version.
</div>
<div class="paragraph">
Used by the routines at <a href="1CEC.html">$1CEC</a> and <a href="3687.html">$3687</a>. Returns with the carry flag set if the character must turn round first. Otherwise returns with the zero flag set only if the character is standing beside a chair and is facing the right way to sit on it.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="1A51"></span>$1A51</td>
<td class="instruction">LDA $26</td>
<td class="comment-1" rowspan="1">Pick up the character's animatory state from <a href="0026.html">$26</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="1A53"></span>$1A53</td>
<td class="instruction">ASL A</td>
<td class="comment-1" rowspan="1">Is the character facing left?</td>
</tr>
<tr>
<td class="address-1"><span id="1A54"></span>$1A54</td>
<td class="instruction">BCC <a href="1A51.html#1A59">$1A59</a></td>
<td class="comment-1" rowspan="1">Branch if so.</td>
</tr>
<tr>
<td class="address-1"><span id="1A56"></span>$1A56</td>
<td class="instruction">JMP <a href="1A51.html#1ADD">$1ADD</a></td>
<td class="comment-1" rowspan="1">Otherwise jump forward.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="1A59"></span>
<div class="comments">
<div class="paragraph">
The character is facing left.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="1A59"></span>$1A59</td>
<td class="instruction">LDX $FC</td>
<td class="comment-1" rowspan="2">Pick up the character's x- and y-coordinates from <a href="00FB.html">$FB</a> and <a href="00FB.html#00FC">$FC</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="1A5B"></span>$1A5B</td>
<td class="instruction">LDY $FB</td>
</tr>
<tr>
<td class="address-1"><span id="1A5D"></span>$1A5D</td>
<td class="instruction">JSR <a href="126D.html">$126D</a></td>
<td class="comment-1" rowspan="1">Get the play area region identifier for the character's location.</td>
</tr>
<tr>
<td class="address-1"><span id="1A60"></span>$1A60</td>
<td class="instruction">BEQ <a href="1A51.html#1AAB">$1AAB</a></td>
<td class="comment-1" rowspan="1">Branch if the character's on the top floor, to the left of the Map Room wall.</td>
</tr>
<tr>
<td class="address-1"><span id="1A62"></span>$1A62</td>
<td class="instruction">CMP #$04</td>
<td class="comment-1" rowspan="1">Is the character on the top floor, to the right of the Map Room wall?</td>
</tr>
<tr>
<td class="address-1"><span id="1A64"></span>$1A64</td>
<td class="instruction">BEQ <a href="1A51.html#1AAB">$1AAB</a></td>
<td class="comment-1" rowspan="1">Branch if so.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="1A66"></span>
<div class="comments">
<div class="paragraph">
The character is facing left, and is on the middle floor.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-1"><span id="1A66"></span>$1A66</td>
<td class="instruction">LDA $FC</td>
<td class="comment-1" rowspan="1">Pick up the character's x-coordinate from <a href="00FB.html#00FC">$FC</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="1A68"></span>$1A68</td>
<td class="instruction">CMP #$27</td>
<td class="comment-1" rowspan="1">Is the character to the right of the Exam Room wall?</td>
</tr>
<tr>
<td class="address-1"><span id="1A6A"></span>$1A6A</td>
<td class="instruction">BCS <a href="1A51.html#1A82">$1A82</a></td>
<td class="comment-1" rowspan="1">Branch if so.</td>
</tr>
<tr>
<td class="address-1"><span id="1A6C"></span>$1A6C</td>
<td class="instruction">CMP #$1D</td>
<td class="comment-1" rowspan="1">Is the character at or to the right of the leftmost chair in the White Room?</td>
</tr>
<tr>
<td class="address-1"><span id="1A6E"></span>$1A6E</td>
<td class="instruction">BCS <a href="1A51.html#1A73">$1A73</a></td>
<td class="comment-1" rowspan="1">Branch if so.</td>
</tr>
<tr>
<td class="address-1"><span id="1A70"></span>$1A70</td>
<td class="instruction">JMP <a href="1A51.html#1B1E">$1B1E</a></td>
<td class="comment-1" rowspan="1">Jump forward (the character should turn round).</td>
</tr>
<tr>
<td class="address-2"><span id="1A73"></span>$1A73</td>
<td class="instruction">CMP #$26</td>
<td class="comment-1" rowspan="1">Is the character to the right of the rightmost chair in the White Room?</td>
</tr>
<tr>
<td class="address-1"><span id="1A75"></span>$1A75</td>
<td class="instruction">BCS <a href="1A51.html#1A7F">$1A7F</a></td>
<td class="comment-1" rowspan="1">Branch if so (the character is not beside a chair).</td>
</tr>
<tr>
<td class="address-1"><span id="1A77"></span>$1A77</td>
<td class="instruction">STA $57</td>
<td class="comment-1" rowspan="1">Store the character's x-coordinate at <a href="004D.html#0057">$57</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="1A79"></span>$1A79</td>
<td class="instruction">LSR A</td>
<td class="comment-1" rowspan="1">Is the character's x-coordinate even?</td>
</tr>
<tr>
<td class="address-1"><span id="1A7A"></span>$1A7A</td>
<td class="instruction">BCC <a href="1A51.html#1A7F">$1A7F</a></td>
<td class="comment-1" rowspan="1">Branch if so (the character is not beside a chair).</td>
</tr>
<tr>
<td class="address-1"><span id="1A7C"></span>$1A7C</td>
<td class="instruction">JMP <a href="1A51.html#1B2A">$1B2A</a></td>
<td class="comment-1" rowspan="1">Otherwise jump forward (the character is beside a chair).</td>
</tr>
<tr>
<td class="address-2"><span id="1A7F"></span>$1A7F</td>
<td class="instruction">JMP <a href="1A51.html#1B24">$1B24</a></td>
<td class="comment-1" rowspan="1">Jump forward (the character should keep moving in the same direction).</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="1A82"></span>
<div class="comments">
<div class="paragraph">
The character is facing left, and is on the middle floor, to the right of the Exam Room wall.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="1A82"></span>$1A82</td>
<td class="instruction">CMP #$2B</td>
<td class="comment-1" rowspan="1">Is the character at or to the right of the leftmost chair in the Exam Room?</td>
</tr>
<tr>
<td class="address-1"><span id="1A84"></span>$1A84</td>
<td class="instruction">BCS <a href="1A51.html#1A89">$1A89</a></td>
<td class="comment-1" rowspan="1">Branch if so.</td>
</tr>
<tr>
<td class="address-1"><span id="1A86"></span>$1A86</td>
<td class="instruction">JMP <a href="1A51.html#1B1E">$1B1E</a></td>
<td class="comment-1" rowspan="1">Jump forward (the character should turn round).</td>
</tr>
<tr>
<td class="address-2"><span id="1A89"></span>$1A89</td>
<td class="instruction">CMP #$45</td>
<td class="comment-1" rowspan="1">Is the character to the right of the rightmost chair in the Exam Room?</td>
</tr>
<tr>
<td class="address-1"><span id="1A8B"></span>$1A8B</td>
<td class="instruction">BCS <a href="1A51.html#1AA8">$1AA8</a></td>
<td class="comment-1" rowspan="1">Branch if so (the character is not beside a chair).</td>
</tr>
<tr>
<td class="address-1"><span id="1A8D"></span>$1A8D</td>
<td class="instruction">CMP #$3C</td>
<td class="comment-1" rowspan="1">Is the character between the first and last chairs in the set furthest from the blackboard?</td>
</tr>
<tr>
<td class="address-1"><span id="1A8F"></span>$1A8F</td>
<td class="instruction">BCS <a href="1A51.html#1AA0">$1AA0</a></td>
<td class="comment-1" rowspan="1">Branch if so.</td>
</tr>
<tr>
<td class="address-1"><span id="1A91"></span>$1A91</td>
<td class="instruction">CMP #$36</td>
<td class="comment-1" rowspan="1">Is the character to the right of the set of chairs nearest the blackboard?</td>
</tr>
<tr>
<td class="address-1"><span id="1A93"></span>$1A93</td>
<td class="instruction">BCS <a href="1A51.html#1A9D">$1A9D</a></td>
<td class="comment-1" rowspan="1">Branch if so (the character is not beside a chair).</td>
</tr>
<tr>
<td class="address-1"><span id="1A95"></span>$1A95</td>
<td class="instruction">STA $57</td>
<td class="comment-1" rowspan="1">Store the character's x-coordinate at <a href="004D.html#0057">$57</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="1A97"></span>$1A97</td>
<td class="instruction">LSR A</td>
<td class="comment-1" rowspan="1">Is the character's x-coordinate even?</td>
</tr>
<tr>
<td class="address-1"><span id="1A98"></span>$1A98</td>
<td class="instruction">BCC <a href="1A51.html#1A9D">$1A9D</a></td>
<td class="comment-1" rowspan="1">Branch if so (the character should keep moving in the same direction).</td>
</tr>
<tr>
<td class="address-1"><span id="1A9A"></span>$1A9A</td>
<td class="instruction">JMP <a href="1A51.html#1B2A">$1B2A</a></td>
<td class="comment-1" rowspan="1">Otherwise jump forward (the character is beside a chair).</td>
</tr>
<tr>
<td class="address-2"><span id="1A9D"></span>$1A9D</td>
<td class="instruction">JMP <a href="1A51.html#1B24">$1B24</a></td>
<td class="comment-1" rowspan="1">Jump forward (the character should keep moving in the same direction).</td>
</tr>
<tr>
<td class="address-2"><span id="1AA0"></span>$1AA0</td>
<td class="instruction">STA $57</td>
<td class="comment-1" rowspan="1">Store the character's x-coordinate at <a href="004D.html#0057">$57</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="1AA2"></span>$1AA2</td>
<td class="instruction">LSR A</td>
<td class="comment-1" rowspan="1">Is the character's x-coordinate odd?</td>
</tr>
<tr>
<td class="address-1"><span id="1AA3"></span>$1AA3</td>
<td class="instruction">BCS <a href="1A51.html#1AA8">$1AA8</a></td>
<td class="comment-1" rowspan="1">Branch if so (the character should keep moving in the same direction).</td>
</tr>
<tr>
<td class="address-1"><span id="1AA5"></span>$1AA5</td>
<td class="instruction">JMP <a href="1A51.html#1B2A">$1B2A</a></td>
<td class="comment-1" rowspan="1">Otherwise jump forward (the character is beside a chair).</td>
</tr>
<tr>
<td class="address-2"><span id="1AA8"></span>$1AA8</td>
<td class="instruction">JMP <a href="1A51.html#1B24">$1B24</a></td>
<td class="comment-1" rowspan="1">Jump forward (the character should keep moving in the same direction).</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="1AAB"></span>
<div class="comments">
<div class="paragraph">
The character is facing left, and is on the top floor.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="1AAB"></span>$1AAB</td>
<td class="instruction">LDA $FC</td>
<td class="comment-1" rowspan="1">Pick up the character's x-coordinate from <a href="00FB.html#00FC">$FC</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="1AAD"></span>$1AAD</td>
<td class="instruction">CMP #$3A</td>
<td class="comment-1" rowspan="1">Is the character to the right of the Map Room wall?</td>
</tr>
<tr>
<td class="address-1"><span id="1AAF"></span>$1AAF</td>
<td class="instruction">BCS <a href="1A51.html#1AC7">$1AC7</a></td>
<td class="comment-1" rowspan="1">Branch if so.</td>
</tr>
<tr>
<td class="address-1"><span id="1AB1"></span>$1AB1</td>
<td class="instruction">CMP #$30</td>
<td class="comment-1" rowspan="1">Is the character at or to the right of the leftmost chair in the Reading Room?</td>
</tr>
<tr>
<td class="address-1"><span id="1AB3"></span>$1AB3</td>
<td class="instruction">BCS <a href="1A51.html#1AB8">$1AB8</a></td>
<td class="comment-1" rowspan="1">Branch if so.</td>
</tr>
<tr>
<td class="address-1"><span id="1AB5"></span>$1AB5</td>
<td class="instruction">JMP <a href="1A51.html#1B1E">$1B1E</a></td>
<td class="comment-1" rowspan="1">Otherwise jump forward (the character should turn round).</td>
</tr>
<tr>
<td class="address-2"><span id="1AB8"></span>$1AB8</td>
<td class="instruction">CMP #$39</td>
<td class="comment-1" rowspan="1">Is the character to the right of the rightmost chair in the Reading Room?</td>
</tr>
<tr>
<td class="address-1"><span id="1ABA"></span>$1ABA</td>
<td class="instruction">BCS <a href="1A51.html#1AC4">$1AC4</a></td>
<td class="comment-1" rowspan="1">Branch if so (the character is not beside a chair).</td>
</tr>
<tr>
<td class="address-1"><span id="1ABC"></span>$1ABC</td>
<td class="instruction">STA $57</td>
<td class="comment-1" rowspan="1">Store the character's x-coordinate at <a href="004D.html#0057">$57</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="1ABE"></span>$1ABE</td>
<td class="instruction">LSR A</td>
<td class="comment-1" rowspan="1">Is the character's x-coordinate odd?</td>
</tr>
<tr>
<td class="address-1"><span id="1ABF"></span>$1ABF</td>
<td class="instruction">BCS <a href="1A51.html#1AC4">$1AC4</a></td>
<td class="comment-1" rowspan="1">Branch if so (the character should keep moving in the same direction).</td>
</tr>
<tr>
<td class="address-1"><span id="1AC1"></span>$1AC1</td>
<td class="instruction">JMP <a href="1A51.html#1B2A">$1B2A</a></td>
<td class="comment-1" rowspan="1">Otherwise jump forward (the character is beside a chair).</td>
</tr>
<tr>
<td class="address-2"><span id="1AC4"></span>$1AC4</td>
<td class="instruction">JMP <a href="1A51.html#1B24">$1B24</a></td>
<td class="comment-1" rowspan="1">Jump forward (the character should keep moving in the same direction).</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="1AC7"></span>
<div class="comments">
<div class="paragraph">
The character is facing left, and is on the top floor, to the right of the Map Room wall.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="1AC7"></span>$1AC7</td>
<td class="instruction">CMP #$40</td>
<td class="comment-1" rowspan="1">Is the character at or to the right of the leftmost chair in the Map Room?</td>
</tr>
<tr>
<td class="address-1"><span id="1AC9"></span>$1AC9</td>
<td class="instruction">BCS <a href="1A51.html#1ACE">$1ACE</a></td>
<td class="comment-1" rowspan="1">Branch if so.</td>
</tr>
<tr>
<td class="address-1"><span id="1ACB"></span>$1ACB</td>
<td class="instruction">JMP <a href="1A51.html#1B1E">$1B1E</a></td>
<td class="comment-1" rowspan="1">Otherwise jump forward (the character should turn round).</td>
</tr>
<tr>
<td class="address-2"><span id="1ACE"></span>$1ACE</td>
<td class="instruction">CMP #$49</td>
<td class="comment-1" rowspan="1">Is the character to the right of the rightmost chair in the Map Room?</td>
</tr>
<tr>
<td class="address-1"><span id="1AD0"></span>$1AD0</td>
<td class="instruction">BCS <a href="1A51.html#1ADA">$1ADA</a></td>
<td class="comment-1" rowspan="1">Branch if so (the character is not beside a chair).</td>
</tr>
<tr>
<td class="address-1"><span id="1AD2"></span>$1AD2</td>
<td class="instruction">STA $57</td>
<td class="comment-1" rowspan="1">Store the character's x-coordinate at <a href="004D.html#0057">$57</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="1AD4"></span>$1AD4</td>
<td class="instruction">LSR A</td>
<td class="comment-1" rowspan="1">Is the character's x-coordinate odd?</td>
</tr>
<tr>
<td class="address-1"><span id="1AD5"></span>$1AD5</td>
<td class="instruction">BCS <a href="1A51.html#1ADA">$1ADA</a></td>
<td class="comment-1" rowspan="1">Branch if so (the character should keep moving in the same direction).</td>
</tr>
<tr>
<td class="address-1"><span id="1AD7"></span>$1AD7</td>
<td class="instruction">JMP <a href="1A51.html#1B2A">$1B2A</a></td>
<td class="comment-1" rowspan="1">Otherwise jump forward (the character is beside a chair).</td>
</tr>
<tr>
<td class="address-2"><span id="1ADA"></span>$1ADA</td>
<td class="instruction">JMP <a href="1A51.html#1B24">$1B24</a></td>
<td class="comment-1" rowspan="1">Jump forward (the character should keep moving in the same direction).</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="1ADD"></span>
<div class="comments">
<div class="paragraph">
The character is facing right.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="1ADD"></span>$1ADD</td>
<td class="instruction">LDX $FC</td>
<td class="comment-1" rowspan="2">Pick up the character's x- and y-coordinates from <a href="00FB.html">$FB</a> and <a href="00FB.html#00FC">$FC</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="1ADF"></span>$1ADF</td>
<td class="instruction">LDY $FB</td>
</tr>
<tr>
<td class="address-1"><span id="1AE1"></span>$1AE1</td>
<td class="instruction">JSR <a href="126D.html">$126D</a></td>
<td class="comment-1" rowspan="1">Get the play area region identifier for the character's location.</td>
</tr>
<tr>
<td class="address-1"><span id="1AE4"></span>$1AE4</td>
<td class="instruction">BEQ <a href="1A51.html#1B04">$1B04</a></td>
<td class="comment-1" rowspan="1">Branch if the character is on the top floor, to the left of the Map Room wall.</td>
</tr>
<tr>
<td class="address-1"><span id="1AE6"></span>$1AE6</td>
<td class="instruction">CMP #$04</td>
<td class="comment-1" rowspan="1">Is the character on the top floor, to the right of the Map Room wall?</td>
</tr>
<tr>
<td class="address-1"><span id="1AE8"></span>$1AE8</td>
<td class="instruction">BEQ <a href="1A51.html#1B04">$1B04</a></td>
<td class="comment-1" rowspan="1">Branch if so.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="1AEA"></span>
<div class="comments">
<div class="paragraph">
The character is facing right, and is on the middle floor.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-1"><span id="1AEA"></span>$1AEA</td>
<td class="instruction">LDA $FC</td>
<td class="comment-1" rowspan="1">Pick up the character's x-coordinate from <a href="00FB.html#00FC">$FC</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="1AEC"></span>$1AEC</td>
<td class="instruction">CMP #$27</td>
<td class="comment-1" rowspan="1">Is the character to the right of the Exam Room wall?</td>
</tr>
<tr>
<td class="address-1"><span id="1AEE"></span>$1AEE</td>
<td class="instruction">BCS <a href="1A51.html#1AFA">$1AFA</a></td>
<td class="comment-1" rowspan="1">Branch if so.</td>
</tr>
<tr>
<td class="address-1"><span id="1AF0"></span>$1AF0</td>
<td class="instruction">CMP #$25</td>
<td class="comment-1" rowspan="1">Is the character to the right of the rightmost chair in the White Room?</td>
</tr>
<tr>
<td class="address-1"><span id="1AF2"></span>$1AF2</td>
<td class="instruction">BCS <a href="1A51.html#1AF7">$1AF7</a></td>
<td class="comment-1" rowspan="1">Branch if so (the character should turn round).</td>
</tr>
<tr>
<td class="address-1"><span id="1AF4"></span>$1AF4</td>
<td class="instruction">JMP <a href="1A51.html#1B24">$1B24</a></td>
<td class="comment-1" rowspan="1">Otherwise jump forward (the character should keep moving in the same direction).</td>
</tr>
<tr>
<td class="address-2"><span id="1AF7"></span>$1AF7</td>
<td class="instruction">JMP <a href="1A51.html#1B1E">$1B1E</a></td>
<td class="comment-1" rowspan="1">Jump forward (the character should turn round).</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="1AFA"></span>
<div class="comments">
<div class="paragraph">
The character is facing right, and is on the middle floor, to the right of the Exam Room wall.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="1AFA"></span>$1AFA</td>
<td class="instruction">CMP #$44</td>
<td class="comment-1" rowspan="1">Is the character to the right of the rightmost chair in the Exam Room?</td>
</tr>
<tr>
<td class="address-1"><span id="1AFC"></span>$1AFC</td>
<td class="instruction">BCS <a href="1A51.html#1B01">$1B01</a></td>
<td class="comment-1" rowspan="1">Branch if so (the character should turn round).</td>
</tr>
<tr>
<td class="address-1"><span id="1AFE"></span>$1AFE</td>
<td class="instruction">JMP <a href="1A51.html#1B24">$1B24</a></td>
<td class="comment-1" rowspan="1">Otherwise jump forward (the character should keep moving in the same direction).</td>
</tr>
<tr>
<td class="address-2"><span id="1B01"></span>$1B01</td>
<td class="instruction">JMP <a href="1A51.html#1B1E">$1B1E</a></td>
<td class="comment-1" rowspan="1">Jump forward (the character should turn round).</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="1B04"></span>
<div class="comments">
<div class="paragraph">
The character is facing right, and is on the top floor.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="1B04"></span>$1B04</td>
<td class="instruction">LDA $FC</td>
<td class="comment-1" rowspan="1">Pick up the character's x-coordinate from <a href="00FB.html#00FC">$FC</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="1B06"></span>$1B06</td>
<td class="instruction">CMP #$3A</td>
<td class="comment-1" rowspan="1">Is the character to the right of the Map Room wall?</td>
</tr>
<tr>
<td class="address-1"><span id="1B08"></span>$1B08</td>
<td class="instruction">BCS <a href="1A51.html#1B14">$1B14</a></td>
<td class="comment-1" rowspan="1">Branch if so.</td>
</tr>
<tr>
<td class="address-1"><span id="1B0A"></span>$1B0A</td>
<td class="instruction">CMP #$38</td>
<td class="comment-1" rowspan="1">Is the character at or to the right of the rightmost chair in the Reading Room?</td>
</tr>
<tr>
<td class="address-1"><span id="1B0C"></span>$1B0C</td>
<td class="instruction">BCS <a href="1A51.html#1B11">$1B11</a></td>
<td class="comment-1" rowspan="1">Branch if so (the character should turn round).</td>
</tr>
<tr>
<td class="address-1"><span id="1B0E"></span>$1B0E</td>
<td class="instruction">JMP <a href="1A51.html#1B24">$1B24</a></td>
<td class="comment-1" rowspan="1">Otherwise jump forward (the character should keep moving in the same direction).</td>
</tr>
<tr>
<td class="address-2"><span id="1B11"></span>$1B11</td>
<td class="instruction">JMP <a href="1A51.html#1B1E">$1B1E</a></td>
<td class="comment-1" rowspan="1">Jump forward (the character should turn round).</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="1B14"></span>
<div class="comments">
<div class="paragraph">
The character is facing right, and is on the top floor, to the right of the Map Room wall.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="1B14"></span>$1B14</td>
<td class="instruction">CMP #$48</td>
<td class="comment-1" rowspan="1">Is the character to the right of the rightmost chair in the Map Room?</td>
</tr>
<tr>
<td class="address-1"><span id="1B16"></span>$1B16</td>
<td class="instruction">BCS <a href="1A51.html#1B1B">$1B1B</a></td>
<td class="comment-1" rowspan="1">Branch if so (the character should turn round).</td>
</tr>
<tr>
<td class="address-1"><span id="1B18"></span>$1B18</td>
<td class="instruction">JMP <a href="1A51.html#1B24">$1B24</a></td>
<td class="comment-1" rowspan="1">Otherwise jump forward (the character should keep moving in the same direction).</td>
</tr>
<tr>
<td class="address-2"><span id="1B1B"></span>$1B1B</td>
<td class="instruction">JMP <a href="1A51.html#1B1E">$1B1E</a></td>
<td class="comment-1" rowspan="1">Jump forward (this instruction is redundant).</td>
</tr>
<tr>
<td class="address-2"><span id="1B1E"></span>$1B1E</td>
<td class="instruction">SEC</td>
<td class="comment-1" rowspan="2">Carry flag set and zero flag reset: the character should turn round.</td>
</tr>
<tr>
<td class="address-1"><span id="1B1F"></span>$1B1F</td>
<td class="instruction">LDA #$FF</td>
</tr>
<tr>
<td class="address-1"><span id="1B21"></span>$1B21</td>
<td class="instruction">JMP <a href="1A51.html#1B2D">$1B2D</a></td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="address-2"><span id="1B24"></span>$1B24</td>
<td class="instruction">CLC</td>
<td class="comment-1" rowspan="2">Carry flag reset and zero flag reset: the character should keep moving in the same direction.</td>
</tr>
<tr>
<td class="address-1"><span id="1B25"></span>$1B25</td>
<td class="instruction">LDA #$FF</td>
</tr>
<tr>
<td class="address-1"><span id="1B27"></span>$1B27</td>
<td class="instruction">JMP <a href="1A51.html#1B2D">$1B2D</a></td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="address-2"><span id="1B2A"></span>$1B2A</td>
<td class="instruction">CLC</td>
<td class="comment-1" rowspan="2">Carry flag reset and zero flag set: the character is beside a chair and facing the right way to sit down.</td>
</tr>
<tr>
<td class="address-1"><span id="1B2B"></span>$1B2B</td>
<td class="instruction">LDA #$00</td>
</tr>
<tr>
<td class="address-2"><span id="1B2D"></span>$1B2D</td>
<td class="instruction">RTS</td>
<td class="comment-1" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="1A50.html">$1A50</a>
</td>
<td class="up">Up: <a href="../maps/all.html#1A51">Map</a></td>
<td class="next">
Next: <a href="1B2E.html">$1B2E</a>
</td>
</tr>
</table>
<footer>
<div class="release">The complete Skool Daze C64 disassembly 20210325</div>
<div class="copyright">&#169; 1985 Microsphere Computer Services Ltd. &#169; 2021 Richard Dymond.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.4 and <a href="https://github.com/skoolkid/sk6502">sk6502</a>.</div>
</footer>
</body>
</html>